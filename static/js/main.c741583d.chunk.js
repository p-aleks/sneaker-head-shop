(this["webpackJsonpreact-sneakers"]=this["webpackJsonpreact-sneakers"]||[]).push([[0],{12:function(e,t,r){e.exports={orderCardsLoading:"Profile_orderCardsLoading__2uGCJ",orderCard:"Profile_orderCard__2QqT5",orderLoader:"Profile_orderLoader__3-pUh",orderLoaderItems:"Profile_orderLoaderItems__3wU5e"}},16:function(e,t,r){e.exports={card:"ProductCard_card__2rNbz",cardContent:"ProductCard_cardContent__1ymiE",addFavoriteBtn:"ProductCard_addFavoriteBtn__1Qii5",cardProductName:"ProductCard_cardProductName__tf0vn",cardPriceLabel:"ProductCard_cardPriceLabel__3tMor",cardPrice:"ProductCard_cardPrice__1Trx7",addToCartBtn:"ProductCard_addToCartBtn__mo9KN"}},3:function(e,t,r){e.exports={drawerBackdrop:"CartDrawer_drawerBackdrop__cwJXK",open:"CartDrawer_open__JVK0b",drawer:"CartDrawer_drawer__3plWr",heading:"CartDrawer_heading__3K_Ka",closeCartBtn:"CartDrawer_closeCartBtn__34wjA",body:"CartDrawer_body__2ExcS",empty:"CartDrawer_empty__2Q604",products:"CartDrawer_products__1o7C4",card:"CartDrawer_card__2Z5sJ",productImg:"CartDrawer_productImg__MoAOt",productName:"CartDrawer_productName__3xcw-",productPrice:"CartDrawer_productPrice__x76Xa",cartInfo:"CartDrawer_cartInfo__WIGTE",cartTotal:"CartDrawer_cartTotal__aq2Qz",cartTax:"CartDrawer_cartTax__1guFp",dashedLine:"CartDrawer_dashedLine__2P3Kh"}},36:function(e,t,r){},37:function(e,t,r){e.exports={favoritesEmpty:"Favorites_favoritesEmpty__3tmJC"}},44:function(e,t,r){},70:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),n=r(35),i=r.n(n),s=r(15),o=(r(43),r(44),r(13)),d=r(6),l=r.n(d),j=r(14),u=r(4),m=r(8),h=r.n(m),f=r(2),b=c.a.createContext({}),x=r(20),p=r(16),O=r.n(p),v=r(0);var g=function(e){var t=e.id,r=e.imgUrl,a=e.price,n=e.title,i=e.isInFavorites,s=e.onAddFavorite,o=e.onRemoveFavorite,d=e.onAddToCart,l=e.isLoading,j=void 0!==l&&l,m=c.a.useContext(b),h=m.checkIsInCart,f=m.favoriteItems,p=c.a.useState(i),g=Object(u.a)(p,2),w=g[0],C=g[1];return Object(v.jsx)("div",{className:O.a.card+" m-10",children:Object(v.jsx)("div",{className:O.a.cardContent+" pos-r",children:j?Object(v.jsxs)(x.a,{speed:2,width:150,height:207,viewBox:"0 0 150 187",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(v.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"150",height:"91"}),Object(v.jsx)("rect",{x:"0",y:"126",rx:"3",ry:"3",width:"93",height:"15"}),Object(v.jsx)("rect",{x:"0",y:"107",rx:"3",ry:"3",width:"150",height:"15"}),Object(v.jsx)("rect",{x:"0",y:"163",rx:"8",ry:"8",width:"80",height:"24"}),Object(v.jsx)("rect",{x:"64",y:"192",rx:"0",ry:"0",width:"0",height:"1"}),Object(v.jsx)("rect",{x:"118",y:"155",rx:"8",ry:"8",width:"32",height:"32"})]}):Object(v.jsxs)("div",{children:[s&&Object(v.jsx)("button",{className:O.a.addFavoriteBtn+" pos-a",onClick:w?function(){o(f.filter((function(e){return Number(e.id)===t}))),C(!1)}:function(){s(t),C(!0)},children:Object(v.jsx)("img",{width:32,height:32,src:w?"img/added-favorite.svg":"img/add-favorite.svg",alt:w?"added to favorites":"add to favorites"})}),Object(v.jsx)("img",{width:133,height:112,src:r,alt:"shoes"}),Object(v.jsx)("h4",{className:O.a.cardProductName,children:n}),Object(v.jsxs)("div",{className:"d-flex flex-column",children:[Object(v.jsx)("span",{className:O.a.cardPriceLabel,children:"Price:"}),Object(v.jsxs)("span",{className:O.a.cardPrice,children:["$",a]})]}),d&&Object(v.jsx)("button",{className:O.a.addToCartBtn+" pos-a",onClick:h(t)?null:function(){d(t)},children:Object(v.jsx)("img",{width:32,height:32,src:h(t)?"img/added-cart.svg":"img/add-cart.svg",alt:h(t)?"added to cart":"add to cart"})})]})})})},w=r(36),C=r.n(w);var _=function(e){var t=e.onAddFavorite,r=e.onRemoveFavorite,a=e.onAddToCart,n=c.a.useContext(b),i=n.items,s=n.favoriteItems,d=n.isDataLoaded,l=c.a.useState(""),j=Object(u.a)(l,2),m=j[0],h=j[1];return Object(v.jsxs)("main",{children:[Object(v.jsxs)("div",{className:"".concat(C.a.heading," d-flex align-center justify-between"),children:[Object(v.jsx)("h2",{children:m?'Search results by query: "'.concat(m,'"'):"All sneakers"}),Object(v.jsxs)("div",{className:"searchBlock d-flex align-center",children:[Object(v.jsx)("img",{src:"img/search-icn.svg",alt:"search"}),Object(v.jsx)("input",{className:"searchInput",placeholder:"Search...",type:"text",value:m,onChange:function(e){h(e.target.value)}})]})]}),Object(v.jsx)("div",{className:"cards d-flex flex-wrap justify-center mt-40",children:d?i.filter((function(e){return e.title.toLowerCase().includes(m.toLowerCase())})).map((function(e){return Object(v.jsx)(g,{id:e.id,title:e.title,imgUrl:e.imgUrl,price:e.price,isInFavorites:!!s.filter((function(t){return t.id===e.id})).length,onAddFavorite:t,onRemoveFavorite:r,onAddToCart:a},e.id)})):Object(o.a)(Array(16)).map((function(e,t){return Object(v.jsx)(g,{isLoading:!0},7.5*t)}))})]})},y=r(37),N=r.n(y),k=function(e){var t=e.style,r=e.imgUrl,a=e.imgAlt,c=e.heading,n=e.info,i=e.backBtnHandler;return Object(v.jsxs)("div",{className:t,children:[Object(v.jsx)("img",{width:120,src:r,alt:a}),Object(v.jsx)("h4",{className:"mt-20 mb-10",children:c}),Object(v.jsx)("p",{className:"mt-5 mb-15",children:n}),Object(v.jsxs)("button",{className:"btnGreen btnBack mt-25",onClick:i,children:[Object(v.jsx)("span",{children:"Back"}),Object(v.jsx)("img",{src:"img/arrow-left.svg",alt:"arrow"})]})]})};var I=function(e){var t=e.onAddFavorite,r=e.onRemoveFavorite,a=e.onAddToCart,n=c.a.useContext(b),i=n.items,s=n.favoriteItems,o=Object(f.f)();return Object(v.jsx)("main",{children:s.length?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"d-flex align-center justify-between",children:Object(v.jsx)("h2",{children:"My favorites"})}),Object(v.jsx)("div",{className:"cards d-flex flex-wrap justify-center mt-40",children:i.filter((function(e){return s.some((function(t){return Number(e.id)===Number(t.id)}))})).map((function(e){return Object(v.jsx)(g,{id:Number(e.id),title:e.title,imgUrl:e.imgUrl,price:e.price,isInFavorites:!!s.filter((function(t){return Number(t.id)===Number(e.id)})).length,onAddFavorite:t,onRemoveFavorite:r,onAddToCart:a},e.id)}))})]}):Object(v.jsx)(k,{style:N.a.favoritesEmpty+" text-center",imgUrl:Math.floor(2*Math.random())+1===1?"img/emoji1.png":"img/emoji2.png",imgAlt:"Emoji",heading:"You don't have any favorites :(",info:"You didn't add anything to favorites yet",backBtnHandler:function(){return o.push("/")}})})};var P=function(){var e=c.a.useContext(b),t=e.items,r=e.checkIsInCart,a=e.setIsShownCart;return Object(v.jsxs)("header",{className:"d-flex justify-between p-45",children:[Object(v.jsx)(s.b,{to:"/",children:Object(v.jsxs)("div",{className:"headerLeft d-flex",children:[Object(v.jsx)("img",{width:40,height:40,src:"img/logo.svg",alt:"logo"}),Object(v.jsxs)("div",{className:"headerInfo ml-15",children:[Object(v.jsx)("h3",{children:"Sneaker Heads"}),Object(v.jsx)("p",{children:"Shop for best sneakers!"})]})]})}),Object(v.jsx)("div",{className:"headerRight d-flex align-center",children:Object(v.jsxs)("ul",{className:"d-flex",children:[Object(v.jsxs)("li",{className:"cart cu-p d-flex align-center mr-30",onClick:function(){a(!0)},children:[Object(v.jsx)("img",{width:18,height:18,src:"img/cart.svg",alt:"cart"}),Object(v.jsx)("span",{className:"ml-10",children:"$ ".concat(t.filter((function(e){return r(e.id)})).reduce((function(e,t){return e+t.price}),0))})]}),Object(v.jsx)("li",{className:"d-flex align-center mr-30",children:Object(v.jsx)(s.b,{to:"/favorites",className:"d-flex",children:Object(v.jsx)("img",{width:20,height:20,src:"img/favorites.svg",alt:"favorite"})})}),Object(v.jsx)("li",{className:"d-flex align-center",children:Object(v.jsx)(s.b,{to:"/profile",className:"d-flex",children:Object(v.jsx)("img",{width:20,height:20,src:"img/profile.svg",alt:"profile"})})})]})})]})},A=r(3),F=r.n(A);var B=function(e){var t=e.onRemoveFromCart,r=e.isOpen,a=c.a.useContext(b),n=a.items,i=a.cartItems,s=a.setCartItems,d=a.setOrders,m=a.checkIsInCart,f=a.setIsShownCart,x=c.a.useState(!1),p=Object(u.a)(x,2),O=p[0],g=p[1],w=c.a.useState(null),C=Object(u.a)(w,2),_=C[0],y=C[1],N=c.a.useState(!1),I=Object(u.a)(N,2),P=I[0],A=I[1],B=function(){f(!1)},D=n.filter((function(e){return m(e.id)})),L=n.filter((function(e){return m(e.id)})).reduce((function(e,t){return e+t.price}),0),T=L/20;return Object(v.jsx)("div",{className:"".concat(F.a.drawerBackdrop," ").concat(r?F.a.open:""),onClick:B,children:Object(v.jsxs)("div",{className:F.a.drawer+" d-flex flex-column p-30",onClick:function(e){return e.stopPropagation()},children:[Object(v.jsxs)("div",{className:F.a.heading+" d-flex",children:[Object(v.jsx)("h4",{children:"Cart"}),Object(v.jsx)("button",{className:F.a.closeCartBtn,onClick:B,children:Object(v.jsx)("img",{src:"img/remove.svg",alt:"close"})})]}),O?Object(v.jsx)(k,{style:"".concat(F.a.body," ").concat(F.a.empty),imgUrl:"img/orderComplete.jpg",imgAlt:"Order is complete",heading:"Order complete!",info:"Your order #".concat(_," will be soon shipped."),backBtnHandler:B}):D.length?Object(v.jsxs)("div",{className:F.a.body,children:[Object(v.jsx)("div",{className:F.a.products+" mb-40",children:D.map((function(e){return Object(v.jsxs)("div",{className:F.a.card+" d-flex align-center mb-20",children:[Object(v.jsx)("img",{className:F.a.productImg,src:e.imgUrl,alt:e.title}),Object(v.jsxs)("div",{className:"ml-20 mr-15",children:[Object(v.jsx)("p",{className:F.a.productName,children:e.title}),Object(v.jsx)("p",{className:F.a.productPrice,children:"$".concat(e.price)})]}),Object(v.jsx)("button",{onClick:function(){return t(i.filter((function(t){return t.itemId===e.id})))},children:Object(v.jsx)("img",{src:"img/remove.svg",alt:"remove product"})})]},e.id)}))}),Object(v.jsxs)("div",{className:F.a.cartInfo,children:[Object(v.jsxs)("div",{className:F.a.cartTotal+" d-flex mb-20",children:[Object(v.jsx)("span",{children:"Total: "}),Object(v.jsx)("div",{className:F.a.dashedLine}),Object(v.jsx)("b",{children:"$".concat(L+T)})]}),Object(v.jsxs)("div",{className:F.a.cartTax+" d-flex",children:[Object(v.jsx)("span",{children:"Tax 5%: "}),Object(v.jsx)("div",{className:F.a.dashedLine}),Object(v.jsx)("b",{children:"$ ".concat(T)})]}),Object(v.jsxs)("button",{disabled:P,className:"btnGreen btnForward mt-25",onClick:function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),e.next=4,h.a.post("http://60f2e6966d44f300177887fa.mockapi.io/orders",{items:n.filter((function(e){return m(e.id)})),price:L+T,timeOrdered:new Date});case 4:return t=e.sent,e.next=7,h.a.put("http://60f2e6966d44f300177887fa.mockapi.io/cart/0",{items:[]});case 7:r=e.sent,s(r.data.items),d((function(e){return[].concat(Object(o.a)(e),[t.data])})),y(t.data.objID),g(!0),A(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},children:[Object(v.jsx)("span",{children:"Order"}),Object(v.jsx)("img",{src:"img/arrow-right.svg",alt:"arrow"})]})]})]}):Object(v.jsx)(k,{style:"".concat(F.a.body," ").concat(F.a.empty),imgUrl:"img/cartEmpty.png",imgAlt:"Cart is empty",heading:"Cart is empty",info:"Add at least one pair to make an order.",backBtnHandler:B})]})})},D=r(12),L=r.n(D);var T=function(e){var t=e.id,r=e.items,a=e.price;return Object(v.jsxs)("div",{className:L.a.orderCard,children:[Object(v.jsx)("h4",{className:L.a.orderTitle,children:"Order #".concat(t)}),Object(v.jsx)("p",{children:"Total price (with tax): $".concat(a)}),Object(v.jsx)("div",{className:"d-flex flex-wrap justify-center mt-20 "+L.a.orderItems,children:r.map((function(e){return Object(v.jsx)(g,{id:e.id,imgUrl:e.imgUrl,price:e.price,title:e.title},e.id)}))})]})};var S=function(){var e=c.a.useState([]),t=Object(u.a)(e,2),r=t[0],a=t[1],n=c.a.useState(!1),i=Object(u.a)(n,2),s=i[0],d=i[1];c.a.useEffect((function(){Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!1),e.next=4,h.a.get("http://60f2e6966d44f300177887fa.mockapi.io/orders");case 4:t=e.sent,a(t.data),d(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]);var m=Object(f.f)();return Object(v.jsxs)("main",{children:[Object(v.jsx)("div",{className:"d-flex align-center justify-between",children:Object(v.jsx)("h2",{children:"My orders"})}),s?r.length?Object(v.jsx)("div",{className:L.a.orderCards+" mt-40",children:r.map((function(e){return Object(v.jsx)(T,{className:L.a.orderCard,id:e.objID,items:e.items,timeOrdered:e.timeOrdered,price:e.price},"order".concat(e.objID))}))}):Object(v.jsx)(k,{style:L.a.ordersEmpty+" text-center",imgUrl:Math.floor(2*Math.random())+1===1?"img/emoji1.png":"img/emoji2.png",imgAlt:"Emoji",heading:"You don't have any orders yet :(",info:"Order soon and enjoy your new sneakers!",backBtnHandler:function(){return m.push("/")}}):Object(v.jsx)("div",{className:L.a.orderCardsLoading+" mt-40",children:Object(o.a)(Array(3)).map((function(e,t){return Object(v.jsxs)("div",{className:L.a.orderLoader+" mt-40",children:[Object(v.jsxs)(x.a,{speed:2,width:250,height:70,viewBox:"0 0 250 70",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(v.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"108",height:"25"}),Object(v.jsx)("rect",{x:"0",y:"47",rx:"0",ry:"0",width:"239",height:"19"})]}),Object(v.jsx)("div",{className:L.a.orderLoaderItems+" mt-15",children:Object(o.a)(Array(4)).map((function(e,t){return Object(v.jsxs)(x.a,{speed:2,width:150,height:207,viewBox:"0 0 150 187",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(v.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"150",height:"91"}),Object(v.jsx)("rect",{x:"0",y:"126",rx:"3",ry:"3",width:"93",height:"15"}),Object(v.jsx)("rect",{x:"0",y:"107",rx:"3",ry:"3",width:"150",height:"15"}),Object(v.jsx)("rect",{x:"0",y:"163",rx:"8",ry:"8",width:"80",height:"24"}),Object(v.jsx)("rect",{x:"64",y:"192",rx:"0",ry:"0",width:"0",height:"1"})]},"orderItem"+t)}))})]},"orderLoader"+t)}))})]})};var U=function(){var e=c.a.useState(!1),t=Object(u.a)(e,2),r=t[0],a=t[1],n=c.a.useState([]),i=Object(u.a)(n,2),s=i[0],d=i[1],m=c.a.useState([]),x=Object(u.a)(m,2),p=x[0],O=x[1],g=c.a.useState([]),w=Object(u.a)(g,2),C=w[0],y=w[1],N=c.a.useState(!1),k=Object(u.a)(N,2),A=k[0],F=k[1];c.a.useEffect((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,r,a,c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([h.a.get("https://60f2e6966d44f300177887fa.mockapi.io/cart/0"),h.a.get("https://60f2e6966d44f300177887fa.mockapi.io/favorites"),h.a.get("https://60f2e6966d44f300177887fa.mockapi.io/products")]);case 3:t=e.sent,r=Object(u.a)(t,3),a=r[0],c=r[1],n=r[2],O(a.data.items),y(c.data),d(n.data),F(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var D=function(e){function t(){return(t=Object(j.a)(l.a.mark((function t(){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=[].concat(Object(o.a)(p),[{itemId:e}]),t.next=4,h.a.put("https://60f2e6966d44f300177887fa.mockapi.io/cart/0",{items:r});case 4:a=t.sent,O(a.data.items),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}p.filter((function(t){return Number(t.itemID)===Number(e)})).length||function(){t.apply(this,arguments)}()},L=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("https://60f2e6966d44f300177887fa.mockapi.io/favorites",{id:t}).then((function(e){return y((function(t){return[e.data].concat(Object(o.a)(t))}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(l.a.mark((function e(t){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(t,1),a=r[0],e.prev=1,y((function(e){return e.filter((function(e){return e.id!==a.id}))})),e.next=5,h.a.delete("https://60f2e6966d44f300177887fa.mockapi.io/favorites/".concat(a.objID));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(b.Provider,{value:{items:s,cartItems:p,favoriteItems:C,setCartItems:O,checkIsInCart:function(e){return!!p.filter((function(t){return t.itemId===e})).length},isDataLoaded:A,setIsShownCart:a},children:Object(v.jsxs)("div",{className:"wrapper pb-15 clear",children:[Object(v.jsx)(B,{onRemoveFromCart:function(e){var t=Object(u.a)(e,1)[0];function r(){return(r=Object(j.a)(l.a.mark((function e(){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=p.filter((function(e){return e.itemId!==t.itemId})),e.next=4,h.a.put("https://60f2e6966d44f300177887fa.mockapi.io/cart/0",{items:r});case 4:a=e.sent,O(a.data.items),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}p.filter((function(e){return e.itemId===t.itemId})).length&&function(){r.apply(this,arguments)}()},isOpen:r}),Object(v.jsx)(P,{}),Object(v.jsxs)(f.c,{children:[Object(v.jsx)(f.a,{path:"/favorites",children:Object(v.jsx)(I,{onAddFavorite:L,onRemoveFavorite:T,onAddToCart:D})}),Object(v.jsx)(f.a,{path:"/profile",children:Object(v.jsx)(S,{})}),Object(v.jsx)(f.a,{path:"/",children:Object(v.jsx)(_,{onAddFavorite:L,onRemoveFavorite:T,onAddToCart:D})})]})]})})};i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(s.a,{children:Object(v.jsx)(U,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c741583d.chunk.js.map